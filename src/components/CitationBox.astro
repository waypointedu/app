---
const { apa, chicago, mla } = Astro.props as { apa: string; chicago: string; mla: string };
---
<section class="space-y-3 rounded-lg border border-slate-200 bg-white/80 p-6 shadow-sm dark:border-slate-800 dark:bg-slate-900/80">
  <header class="flex items-center justify-between">
    <h2 class="text-sm font-semibold uppercase tracking-wide text-slate-400">Cite this work</h2>
    <button class="rounded-full border border-primary-500 px-3 py-1 text-xs font-semibold text-primary-600" @click="copyCitation">
      Copy APA
    </button>
  </header>
  <div class="space-y-2 text-sm text-slate-700 dark:text-slate-200">
    <p data-citation-apa><strong>APA:</strong> {apa}</p>
    <p><strong>Chicago:</strong> {chicago}</p>
    <p><strong>MLA:</strong> {mla}</p>
  </div>
</section>
<script type="module">
  const copyCitation = () => {
    const text = document.querySelector('[data-citation-apa]')?.textContent;
    if (text) navigator.clipboard.writeText(text);
  };
</script>
