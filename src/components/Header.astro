---
import SearchBox from './SearchBox.astro';

const pathname = Astro.url.pathname;

const navItems = [
  { href: '/', label: 'Home' },
  { href: '/browse', label: 'Browse' },
  { href: '/search', label: 'Search' },
  { href: '/policies/collection', label: 'Policies' }
];
---
<header class="site-header" role="banner">
  <div class="mx-auto flex max-w-6xl flex-col gap-4 px-6 py-4 text-sm text-white md:flex-row md:items-center md:justify-between">
    <div class="flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between md:flex-1">
      <a href="/" class="site-header__brand">
        <span class="site-header__crest" aria-hidden="true">WI</span>
        <span class="flex flex-col leading-snug">
          <span class="text-[0.7rem] uppercase tracking-[0.35em] opacity-80">Waypoint Institute</span>
          <span class="text-lg">Library &amp; Archives</span>
        </span>
      </a>
      <nav class="flex flex-wrap items-center gap-1" aria-label="Primary navigation">
        {navItems.map((item) => (
          <a class="nav-link" href={item.href} aria-current={pathname === item.href ? 'page' : undefined}>
            {item.label}
          </a>
        ))}
      </nav>
    </div>
    <div class="w-full max-w-xs md:w-auto">
      <SearchBox minimal={true} />
    </div>
  </div>
</header>
